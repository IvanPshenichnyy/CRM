ВидЭлемента: КомпонентИнтерфейса
Ид: 63ddc157-05cd-4187-8d86-546634e011d6
Имя: СделкиФормаОбъекта
ОбластьВидимости: ВПроекте
Импорт:
    - Мероприятия
    - Основное
    - Общие
    - Общие::КурсыВалют
Свойства:
    -
        Имя: ОбучающиеПодсказки
        Тип: ПоследовательностьОбучающихПодсказок
        ЗначениеПоУмолчанию:
            Элементы:
                -
                    ОпорныйЭлемент: =Компоненты.ПолеВводаКлиент
                    Заголовок: Приветствую!
                    Описание: Позвольте помочь вам создать новую сделку! Сделка отражает процесс оказания услуги клиенту нашей компании на каждой стадии этого процесса. Для начала нужно выбрать клиента.
                    Изображение: ОбучающиеПодсказки/Приветствие.png
                -
                    ОпорныйЭлемент: =Компоненты.ПолеВводаНаправление
                    Заголовок: Выбор направления
                    Описание: Сделка может относиться к одному из нескольких направлений, по которым наша компания предоставляет услуги.
                -
                    ОпорныйЭлемент: =Компоненты.ПолеВводаСодержание
                    Заголовок: Описание сделки
                    Описание: Пожалуйста, опишите в этом поле содержание новой сделки.
                -
                    ОпорныйЭлемент: =Компоненты.ПолеВводаСтадия
                    Заголовок: Указание стадии сделки
                    Описание: Каждая сделка находится в одной из стадий, которая определяет этап её заключения.
    -
        Имя: ЕстьЗадачиПоСделке
        Тип: Булево
    -
        Имя: ЕстьСобытияПоСделке
        Тип: Булево
    -
        Имя: ПоказыватьУведомление
        Тип: Булево
        ЗначениеПоУмолчанию: Истина
Наследует:
    Тип: ФормаОбъекта<Сделки.Объект>
    Заголовок: $ЛокализованныеСтроки.Сделка
    РастягиватьПоВертикали: Истина
    ОсновнаяКоманда: =ЗаписатьИЗакрыть
    ОбычныеКоманды:
        Тип: ФрагментКомандногоИнтерфейса<Команда>
        Элементы:
            - =Записать
            - =Удалить
    Содержимое:
        Тип: ШаблонФормыСРазделами
        ОсновнойРаздел:
            Тип: ОбластьРазделаФормы
            Заголовок: Основное
            ШиринаВКолонках: Одинарная
            Содержимое:
                -
                    Тип: ФиксированнаяГруппа
                    ИнтервалМеждуЭлементамиПоВертикали: Отсутствует
                    Содержимое:
                        -
                            Тип: ФиксированнаяГруппа
                            Ориентация: Горизонтальная
                            Содержимое:
                                -
                                    Тип: ПолеВвода<Клиенты.Ссылка?>
                                    Имя: ПолеВводаКлиент
                                    Заголовок: $ЛокализованныеСтроки.Клиент
                                    Значение: =Объект.Клиент
                                    РастягиватьПоГоризонтали: Истина
                                    Обязательное: Истина
                                    СообщениеОшибка: $Общие::ЛокализованныеСтроки.ОбязательноеПоле
                                -
                                    Тип: Кнопка
                                    Доступность: =Объект.Клиент != Неопределено
                                    Подсказка: $ЛокализованныеСтроки.Открыть
                                    Вид: ИконкаДействия
                                    ВыравниваниеВГруппеПоВертикали: Низ
                                    ВыравниваниеВГруппеПоГоризонтали: Конец
                                    Изображение: ОткрытьСсылку.svg
                                    ПриНажатии: КлиентПриНажатии
                        -
                            Тип: Кнопка
                            Заголовок: $ЛокализованныеСтроки.СоздатьКлиента
                            Вид: Дополнительная
                            ВыравниваниеВГруппеПоГоризонтали: Начало
                            Изображение: Плюс.svg
                            ПриНажатии: СоздатьКлиентаПриНажатии
                -
                    Тип: ФиксированнаяГруппа
                    ИнтервалМеждуЭлементамиПоВертикали: Отсутствует
                    Содержимое:
                        -
                            Тип: ФиксированнаяГруппа
                            Ориентация: Горизонтальная
                            Содержимое:
                                -
                                    Тип: ПолеВвода<КонтактныеЛица.Ссылка?>
                                    Имя: ПолеВводаКонтактноеЛицо
                                    Заголовок: $ЛокализованныеСтроки.КонтактноеЛицо
                                    Значение: =Объект.КонтактноеЛицо
                                    НастройкиВводаСсылок:
                                        НастройкиПоТипу:
                                            -
                                                Ключ: КонтактныеЛица.Ссылка
                                                Значение:
                                                    Фильтр:
                                                        Элементы:
                                                            -
                                                                Тип: ЭлементФильтра
                                                                Поле: Владелец
                                                                ВидСравнения: Равно
                                                                Значение: =Объект.Клиент
                                    РастягиватьПоГоризонтали: Истина
                                -
                                    Тип: Кнопка
                                    Доступность: =Объект.КонтактноеЛицо != Неопределено
                                    Подсказка: $ЛокализованныеСтроки.Открыть
                                    Вид: ИконкаДействия
                                    ВыравниваниеВГруппеПоВертикали: Низ
                                    ВыравниваниеВГруппеПоГоризонтали: Конец
                                    Изображение: ОткрытьСсылку.svg
                                    ПриНажатии: КонтактноеЛицоПриНажатии
                        -
                            Тип: Кнопка
                            Заголовок: $ЛокализованныеСтроки.СоздатьКонтактноеЛицо
                            Доступность: =Объект.Клиент != Неопределено
                            Вид: Дополнительная
                            ВыравниваниеВГруппеПоГоризонтали: Начало
                            Изображение: Плюс.svg
                            ПриНажатии: СоздатьКонтактноеЛицоПриНажатии
                -
                    Тип: ПолеВвода<Направления.Ссылка?>
                    Имя: ПолеВводаНаправление
                    Заголовок: $ЛокализованныеСтроки.Направление
                    Значение: =Объект.Направление
                    Обязательное: Истина
                    СообщениеОшибка: $Общие::ЛокализованныеСтроки.ОбязательноеПоле
                -
                    Тип: ПолеВвода<Строка>
                    Имя: ПолеВводаСодержание
                    Заголовок: $ЛокализованныеСтроки.Содержание
                    Значение: =Объект.Наименование
                    Обязательное: Истина
                    СообщениеОшибка: $Общие::ЛокализованныеСтроки.ОбязательноеПоле
                -
                    Тип: ПолеВвода<СтадииСделок.Ссылка?>
                    Имя: ПолеВводаСтадия
                    Заголовок: $ЛокализованныеСтроки.Стадия
                    Значение: =Объект.Стадия
                    Изображение: =ПолучитьИконкуВыбраннойСтадии()
                    Обязательное: Истина
                    СообщениеОшибка: $Общие::ЛокализованныеСтроки.ОбязательноеПоле
                -
                    Тип: ПолеВвода<Валюты.Ссылка?>
                    Имя: ПолеВводаВалюта
                    Заголовок: $Общие::ЛокализованныеСтроки.Валюта
                    Значение: =Объект.ВалютаСделки
                    Обязательное: Истина
                    СообщениеОшибка: $Общие::ЛокализованныеСтроки.ОбязательноеПоле
                -
                    Тип: ПолеВвода<Число>
                    Имя: ПолеВводаСумма
                    Заголовок: $ЛокализованныеСтроки.Сумма
                    Значение: =Объект.СуммаВВалютеСделки
        ДополнительныеРазделы:
            -
                Тип: ОбластьРазделаФормы
                Заголовок: Содержание
                ШиринаВКолонках: Двойная
                Содержимое:
                    -
                        Тип: СворачиваемыйКомпонент
                        Заголовок: Услуги
                        ШиринаВКолонках: Четверная
                        РастягиватьПоГоризонтали: Истина
                        Содержимое:
                            Тип: Таблица<ИсточникДанныхМассив<Сделки.Услуги>>
                            Имя: СписокУслуг
                            Источник:
                                Данные: =Объект.Услуги
                            ШиринаВКолонках: Четверная
                            РастягиватьПоВертикали: Ложь
                            ОтображаемоеКоличествоКомандСтроки: 2
                            ОтображатьНастройки: Истина
                            ОтображатьНумерациюСтрок: Ложь
                            КомандыСтроки:
                                Тип: ФрагментКомандногоИнтерфейса<КомандаСПараметром<Массив<Сделки.Услуги>>|КомандаСПараметром<Сделки.Услуги>>
                                Элементы:
                                    - =Компоненты.СписокУслуг.Удалить
                            Команды:
                                Тип: ФрагментКомандногоИнтерфейса<Команда>
                                Элементы:
                                    - =Компоненты.СписокУслуг.ДобавитьСтроку
                            Колонки:
                                -
                                    Тип: СтандартнаяКолонкаТаблицы<Сделки.Услуги>
                                    ПолеЗначения: Услуга
                                    НастройкиРедактирования:
                                        Тип: НастройкиРедактированияПоляВвода
                                        НастройкиВводаСсылок:
                                            НастройкиПоТипу:
                                                -
                                                    Ключ: Услуги.Ссылка
                                                    Значение:
                                                        Фильтр:
                                                            Элементы:
                                                                -
                                                                    Тип: ЭлементФильтра
                                                                    Поле: Владелец
                                                                    ВидСравнения: Равно
                                                                    Значение: =Объект.Направление
                                -
                                    Тип: СтандартнаяКолонкаТаблицы<Сделки.Услуги>
                                    ПолеЗначения: Количество
                                    НастройкиРедактирования:
                                        Тип: НастройкиРедактированияПоляВвода
                                        ПриИзменении: СписокУслугКоличествоПриИзменении
                                -
                                    Тип: СтандартнаяКолонкаТаблицы<Сделки.Услуги>
                                    ПолеЗначения: Цена
                                    НастройкиРедактирования:
                                        Тип: НастройкиРедактированияПоляВвода
                                        ПриИзменении: СписокУслугЦенаПриИзменении
                                -
                                    Тип: СтандартнаяКолонкаТаблицы<Сделки.Услуги>
                                    ПолеЗначения: Сумма
                    -
                        Тип: СворачиваемыйКомпонент
                        Заголовок: Дополнительно
                        ШиринаВКолонках: Четверная
                        РастягиватьПоГоризонтали: Истина
                        Содержимое:
                            Тип: АвтоматическаяГруппа
                            ШиринаВКолонках: Четверная
                            Содержимое:
                                -
                                    Тип: АвтоматическаяГруппа
                                    ШиринаВКолонках: Двойная
                                    Содержимое:
                                        -
                                            Тип: ПолеВвода<Сотрудники.Ссылка?>
                                            Заголовок: $ЛокализованныеСтроки.Ответственный
                                            Значение: =Объект.Ответственный
                                        -
                                            Тип: ПолеВвода<Дата>
                                            Имя: ПолеВводаДатаЗакрытия
                                            Заголовок: $ЛокализованныеСтроки.ДатаЗакрытия
                                            Значение: =Объект.ДатаЗакрытия
                                            СправочнаяПодсказка: $ЛокализованныеСтроки.ПредполагаемаяИлиФактическая
                                -
                                    Тип: ФиксированнаяГруппа
                                    Заголовок: $ЛокализованныеСтроки.Договор
                                    ШиринаВКолонках: Четверная
                                    ШрифтЗаголовка: =СтилевыеШрифты.Обычный
                                    Содержимое:
                                        -
                                            Тип: ВыборФайлов
                                            Имя: ВыборФайлаДоговора
                                            Заголовок: $ЛокализованныеСтроки.ЗаголовокВыбораФайлаДоговора
                                            Видимость: =(Объект.ФайлДоговора == Неопределено)
                                            РастягиватьПоГоризонтали: Истина
                                            МножественныйВыбор: Ложь
                                            ПриИзменении: ПриВыбореФайлаДоговора
                                        -
                                            Тип: ФиксированнаяГруппа
                                            Ориентация: Горизонтальная
                                            РастягиватьПоГоризонтали: Истина
                                            Содержимое:
                                                -
                                                    Тип: Надпись
                                                    Значение: =Объект.ИмяФайлаДоговора
                                                    ОбрабатыватьНажатие: Истина
                                                    ПриНажатии: ИмяФайлаДоговораПриНажатии
                                                -
                                                    Тип: Картинка
                                                    Видимость: =(Объект.ФайлДоговора != Неопределено)
                                                    ОбрабатыватьНажатие: Истина
                                                    ВыравниваниеВГруппеПоВертикали: Центр
                                                    ВыравниваниеВГруппеПоГоризонтали: Конец
                                                    Изображение: МусорнаяКорзинаКонтур.svg
                                                    Подсказка: Удалить файл договора
                                                    Цвет: =Цвета.Стилевые.ФонВторичный
                                                    ПриНажатии: УдалитьФайлДоговораПриНажатии
            -
                Тип: ОбластьРазделаФормы
                Заголовок: Задачи
                ШиринаВКолонках: Двойная
                Команды:
                    Тип: ФрагментКомандногоИнтерфейса<Команда>
                    Элементы:
                        -
                            Тип: ОбычнаяКоманда
                            Представление: $Мероприятия::ЛокализованныеСтроки.НоваяЗадача
                            Изображение: Плюс.svg
                            Видимость: =ЕстьЗадачиПоСделке
                            Обработчик: СоздатьЗадачуПриНажатии
                Содержимое:
                    -
                        Тип: СтандартныйСписок<ДинамическийСписок>
                        Имя: СписокЗадач
                        Видимость: =ЕстьЗадачиПоСделке
                        Источник:
                            ОсновнаяТаблица:
                                Таблица: Задачи
                            Поля:
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Ссылка
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Владелец
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: ДатаСоздания
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Ответственный
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Наименование
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: ДатаНачала
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: ДатаЗавершения
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Статус
                            Фильтр:
                                Элементы:
                                    -
                                        Тип: ЭлементФильтра
                                        Поле: Владелец
                                        ВидСравнения: Равно
                                        Значение: =КлючОбъекта
                                    -
                                        Тип: ЭлементФильтра
                                        Поле: Ссылка
                                        ВидСравнения: Равно
                                        Использовать: Ложь
                            Сортировка:
                                -
                                    Поле: ДатаСоздания
                                    НаправлениеСортировки: ПоУбыванию
                        РастягиватьПоГоризонтали: Истина
                        ИспользованиеПоиска: Ложь
                        Навигация: ПодгрузкаПриПрокрутке
                        КомандыСтроки:
                            Тип: ФрагментКомандногоИнтерфейса<КомандаСПараметром<Массив<Сущность.Ключ>>|КомандаСПараметром<Сущность.Ключ>>
                            Элементы:
                                -
                                    Тип: КомандаСПараметром<Сущность.Ключ>
                                    Представление: $Мероприятия::ЛокализованныеСтроки.Завершить
                                    Изображение: Задачи.svg
                                    Обработчик: ЗавершитьЗадачуПриНажатии
                                    Доступность: =ДанныеСтроки.Данные["Статус"] != СтатусМероприятия.Завершено
                                -
                                    Тип: КомандаСПараметром<Сущность.Ключ>
                                    Представление: $Мероприятия::ЛокализованныеСтроки.Удалить
                                    Изображение: МусорнаяКорзина.svg
                                    Обработчик: УдалитьЗадачуПриНажатии
                        ОписаниеСтроки: =ПолучитьОписаниеСтрокиСпискаМероприятий(ДанныеСтроки)
                        ЗначениеСтроки: =ДанныеСтроки.Данные["Наименование"]
                        ДополнительноеЗначениеСтроки: =(ДанныеСтроки.Данные["Статус"] как СтатусМероприятия).Представление()
                        ОписаниеЗначкаДополнительногоЗначенияСтроки:
                            Тип: ОписаниеЗначка
                            Цвет: =(ДанныеСтроки.Данные["Статус"] как СтатусМероприятия).ПолучитьЦвет()
                        ИзображениеСтроки: =ПолучитьИконкуМероприятия(ДанныеСтроки)
                    -
                        Тип: ФиксированнаяГруппа
                        Видимость: =не ЕстьЗадачиПоСделке
                        РастягиватьПоВертикали: Истина
                        РастягиватьПоГоризонтали: Истина
                        Содержимое:
                            -
                                Тип: Картинка
                                ВыравниваниеВГруппеПоВертикали: Центр
                                ВыравниваниеВГруппеПоГоризонтали: Центр
                                Изображение: ПустойСписокМероприятий.svg
                            -
                                Тип: Надпись
                                Видимость: =ЭтоНовый()
                                Значение: ="Для создания задач сохраните сделку"
                                ВыравниваниеВГруппеПоВертикали: Центр
                                ВыравниваниеВГруппеПоГоризонтали: Центр
                                Важность: Низкая
                                Шрифт: =СтилевыеШрифты.Крупный
                            -
                                Тип: ФиксированнаяГруппа
                                Видимость: =не ЭтоНовый()
                                ВыравниваниеВГруппеПоВертикали: Центр
                                ВыравниваниеВГруппеПоГоризонтали: Центр
                                ИнтервалМеждуЭлементамиПоВертикали: Половинный
                                Содержимое:
                                    -
                                        Тип: Надпись
                                        Значение: ="Нет задач по сделке"
                                        ВыравниваниеВГруппеПоГоризонтали: Центр
                                        Шрифт: =СтилевыеШрифты.Крупный
                                    -
                                        Тип: Кнопка
                                        Заголовок: Добавить задачу
                                        Вид: Дополнительная
                                        ВыравниваниеВГруппеПоГоризонтали: Центр
                                        ПриНажатии: СоздатьЗадачуПриНажатии
            -
                Тип: ОбластьРазделаФормы
                Заголовок: События
                ШиринаВКолонках: Двойная
                Команды:
                    Тип: ФрагментКомандногоИнтерфейса<Команда>
                    Элементы:
                        -
                            Тип: ОбычнаяКоманда
                            Представление: $Мероприятия::ЛокализованныеСтроки.НовоеСобытие
                            Изображение: Плюс.svg
                            Видимость: =ЕстьСобытияПоСделке
                            Обработчик: СоздатьСобытиеПриНажатии
                Содержимое:
                    -
                        Тип: СтандартныйСписок<ДинамическийСписок>
                        Имя: СписокСобытий
                        Видимость: =ЕстьСобытияПоСделке
                        Источник:
                            ОсновнаяТаблица:
                                Таблица: События
                            Поля:
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Ссылка
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Владелец
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: ДатаСоздания
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Ответственный
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: Наименование
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: ДатаНачала
                                -
                                    Тип: ПолеДинамическогоСписка
                                    Выражение: ДатаЗавершения
                            Фильтр:
                                Элементы:
                                    -
                                        Тип: ЭлементФильтра
                                        Поле: Владелец
                                        ВидСравнения: Равно
                                        Значение: =КлючОбъекта
                                    -
                                        Тип: ЭлементФильтра
                                        Поле: Ссылка
                                        ВидСравнения: Равно
                                        Использовать: Ложь
                            Сортировка:
                                -
                                    Поле: ДатаСоздания
                                    НаправлениеСортировки: ПоУбыванию
                        РастягиватьПоГоризонтали: Истина
                        ИспользованиеПоиска: Ложь
                        Навигация: ПодгрузкаПриПрокрутке
                        КомандыСтроки:
                            Тип: ФрагментКомандногоИнтерфейса<КомандаСПараметром<Массив<Сущность.Ключ>>|КомандаСПараметром<Сущность.Ключ>>
                            Элементы:
                                -
                                    Тип: КомандаСПараметром<Сущность.Ключ>
                                    Представление: $Мероприятия::ЛокализованныеСтроки.Удалить
                                    Изображение: МусорнаяКорзина.svg
                                    Обработчик: УдалитьСобытиеПриНажатии
                        ОписаниеСтроки: =ПолучитьОписаниеСтрокиСпискаМероприятий(ДанныеСтроки)
                        ЗначениеСтроки: =ДанныеСтроки.Данные["Наименование"]
                        ИзображениеСтроки: =ПолучитьИконкуМероприятия(ДанныеСтроки)
                    -
                        Тип: ФиксированнаяГруппа
                        Видимость: =не ЕстьСобытияПоСделке
                        РастягиватьПоВертикали: Истина
                        РастягиватьПоГоризонтали: Истина
                        Содержимое:
                            -
                                Тип: Картинка
                                ВыравниваниеВГруппеПоВертикали: Центр
                                ВыравниваниеВГруппеПоГоризонтали: Центр
                                Изображение: ПустойСписокМероприятий.svg
                            -
                                Тип: Надпись
                                Видимость: =ЭтоНовый()
                                Значение: ="Для создания событий сохраните сделку"
                                ВыравниваниеВГруппеПоВертикали: Центр
                                ВыравниваниеВГруппеПоГоризонтали: Центр
                                Важность: Низкая
                                Шрифт: =СтилевыеШрифты.Крупный
                            -
                                Тип: ФиксированнаяГруппа
                                Видимость: =не ЭтоНовый()
                                ВыравниваниеВГруппеПоВертикали: Центр
                                ВыравниваниеВГруппеПоГоризонтали: Центр
                                ИнтервалМеждуЭлементамиПоВертикали: Половинный
                                Содержимое:
                                    -
                                        Тип: Надпись
                                        Значение: ="Нет событий по сделке"
                                        ВыравниваниеВГруппеПоГоризонтали: Центр
                                        Шрифт: =СтилевыеШрифты.Крупный
                                    -
                                        Тип: Кнопка
                                        Заголовок: Добавить событие
                                        Вид: Дополнительная
                                        ВыравниваниеВГруппеПоГоризонтали: Центр
                                        ПриНажатии: СоздатьСобытиеПриНажатии
